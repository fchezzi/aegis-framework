function aplicarFiltroMesAno(e,t,a){const n=t?t.value:"",r=a?a.value:"";let l="",o="";if(r&&n){l=r+"-"+n+"-01";const e=new Date(r,n,0).getDate();o=r+"-"+n+"-"+String(e).padStart(2,"0")}else if(r&&!n)l=r+"-01-01",o=r+"-12-31";else if(!r&&n){const e=(new Date).getFullYear();l=e+"-"+n+"-01";const t=new Date(e,n,0).getDate();o=e+"-"+n+"-"+String(t).padStart(2,"0")}const i={date_start:l,date_end:o,month:n,year:r},c=document.querySelector('[data-filter-group*="'+e+'"] select[name="filter_select"]');c&&c.value&&"todos"!==c.value&&(i.select=c.value);const s=new CustomEvent("aegisFilterApplied",{detail:{filterGroup:e,filters:i}});document.dispatchEvent(s)}document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".filter-mesano").forEach((function(e){const t=e.dataset.filterGroup,a=e.querySelector('[data-filter-type="month"]'),n=e.querySelector('[data-filter-type="year"]');if(a&&n){const e=new Date;let t,r,l=e.getMonth()+1,o=e.getFullYear();1===l?(t=12,r=o-1):(t=l-1,r=o);const i=String(t).padStart(2,"0");a.value=i,n.value=String(r)}a&&a.addEventListener("change",(()=>aplicarFiltroMesAno(t,a,n))),n&&n.addEventListener("change",(()=>aplicarFiltroMesAno(t,a,n))),setTimeout((()=>{aplicarFiltroMesAno(t,a,n)}),100)}))}));