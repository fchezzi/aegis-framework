document.addEventListener("DOMContentLoaded",(function(){setTimeout((function(){document.querySelectorAll('.aegis-filter-wrapper[data-filter-type="canal"]').forEach((function(e){const t=e.dataset.filterGroup,o=e.querySelector('select[name="filter_select"]');if(!o)return;console.log("ðŸ”§ [FIX DEBUG] filterGroup RAW:",t);var r=t.split(",").map((function(e){return e.trim()})).filter((function(e){return e.length>0}));console.log("ðŸ”§ [FIX DEBUG] filterGroups ARRAY:",r);const n=o.cloneNode(!0);o.parentNode.replaceChild(n,o),n.addEventListener("change",(function(){const e={};n.value&&"todos"!==n.value&&(e.select=n.value),r.forEach((function(t){const o=Object.assign({},e),r=document.querySelector('[data-filter-group="'+t+'"] [data-filter-type="month"]'),n=document.querySelector('[data-filter-group="'+t+'"] [data-filter-type="year"]');if(r&&n&&r.value&&n.value){const e=r.value,l=n.value;o.date_start=l+"-"+e+"-01";const a=new Date(l,e,0).getDate();o.date_end=l+"-"+e+"-"+String(a).padStart(2,"0"),o.month=e,o.year=l,console.log("âœ… [FIX] Filtros de data preservados para grupo "+t+":",o.date_start,o.date_end)}const l=new CustomEvent("aegisFilterApplied",{detail:{filterGroup:t,filters:o}});document.dispatchEvent(l),console.log("âœ… [FIX] Filtro de canal aplicado para grupo "+t+":",o)}))})),console.log("âœ… [FIX] Filtro de canal corrigido para grupos:",r.join(", "));let l=document.getElementById("filter-debug");if(l){let e='<hr style="border-color:#ff0;margin:10px 0;">';e+='<strong style="color:#ff0;">ðŸ”§ DEBUG FILTROS-FIX.JS</strong><br>',e+='<strong style="color:#ff0;">filterGroup RAW:</strong> "'+t+'"<br>',e+='<strong style="color:#ff0;">filterGroups ARRAY:</strong> ['+r.join(", ")+"]<br>",e+='<strong style="color:#ff0;">Total de grupos:</strong> '+r.length+"<br>",l.innerHTML+=e}}))}),200)}));