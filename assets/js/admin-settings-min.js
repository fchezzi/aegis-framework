document.addEventListener("DOMContentLoaded",(function(){[["theme_color_main","theme_color_main_picker"],["theme_color_second","theme_color_second_picker"],["theme_color_third","theme_color_third_picker"],["theme_color_four","theme_color_four_picker"],["theme_color_five","theme_color_five_picker"],["members_color_main","members_color_main_picker"],["members_color_second","members_color_second_picker"],["members_color_third","members_color_third_picker"],["members_color_four","members_color_four_picker"],["members_color_five","members_color_five_picker"],["admin_color_main","admin_color_main_picker"],["admin_color_second","admin_color_second_picker"],["admin_color_third","admin_color_third_picker"],["admin_color_four","admin_color_four_picker"],["admin_color_five","admin_color_five_picker"],["dash_bg_main","dash_bg_main_picker"],["dash_bg_main_dark","dash_bg_main_dark_picker"],["dash_bg_bread","dash_bg_bread_picker"],["dash_bg_bread_dark","dash_bg_bread_dark_picker"],["dash_bg_aside","dash_bg_aside_picker"],["dash_bg_logo","dash_bg_logo_picker"],["dash_bg_logo_dark","dash_bg_logo_dark_picker"]].forEach((([e,d])=>{const i=document.getElementById(d),r=document.getElementById(e);i&&r&&(i.addEventListener("input",(function(){r.value=this.value.toUpperCase()})),r.addEventListener("input",(function(){/^#[a-fA-F0-9]{6}$/.test(this.value)&&(i.value=this.value)})))}));const e=document.getElementById("test-alert-smtp"),d=document.getElementById("test-alert-result");e&&d&&e.addEventListener("click",(async function(){const e=this,i=e.getAttribute("data-url");e.disabled=!0,e.innerHTML='<i data-lucide="loader"></i> Enviando...',lucide.createIcons(),d.innerHTML="";try{const e=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"}}),r=await e.json();r.success?d.innerHTML='<div style="background: #d4edda; color: #155724; padding: 12px 16px; border-radius: 6px; border-left: 4px solid #28a745; font-size: 14px; line-height: 1.5;">✅ '+r.message+"</div>":d.innerHTML='<div style="background: #f8d7da; color: #721c24; padding: 12px 16px; border-radius: 6px; border-left: 4px solid #dc3545; font-size: 14px; line-height: 1.5;">❌ '+r.message+"</div>"}catch(e){d.innerHTML='<div style="background: #f8d7da; color: #721c24; padding: 12px 16px; border-radius: 6px; border-left: 4px solid #dc3545; font-size: 14px; line-height: 1.5;">❌ Erro ao testar: '+e.message+"</div>"}finally{e.disabled=!1,e.innerHTML='<i data-lucide="mail"></i> Testar SMTP de Alertas',lucide.createIcons()}}));const i=document.getElementById("test-client-smtp"),r=document.getElementById("test-client-result");i&&r&&i.addEventListener("click",(async function(){const e=this,d=e.getAttribute("data-url");e.disabled=!0,e.innerHTML='<i data-lucide="loader"></i> Enviando...',lucide.createIcons(),r.innerHTML="";try{const e=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"}}),i=await e.json();i.success?r.innerHTML='<div style="background: #d4edda; color: #155724; padding: 12px 16px; border-radius: 6px; border-left: 4px solid #28a745; font-size: 14px; line-height: 1.5;">✅ '+i.message+"</div>":r.innerHTML='<div style="background: #f8d7da; color: #721c24; padding: 12px 16px; border-radius: 6px; border-left: 4px solid #dc3545; font-size: 14px; line-height: 1.5;">❌ '+i.message+"</div>"}catch(e){r.innerHTML='<div style="background: #f8d7da; color: #721c24; padding: 12px 16px; border-radius: 6px; border-left: 4px solid #dc3545; font-size: 14px; line-height: 1.5;">❌ Erro ao testar: '+e.message+"</div>"}finally{e.disabled=!1,e.innerHTML='<i data-lucide="mail"></i> Testar SMTP Cliente',lucide.createIcons()}}));const o=document.getElementById("test-ftp"),t=document.getElementById("test-ftp-result");o&&t&&o.addEventListener("click",(async function(){const e=this,d=e.getAttribute("data-url");e.disabled=!0,e.innerHTML='<i data-lucide="loader"></i> Conectando...',lucide.createIcons(),t.innerHTML="";try{const e=await fetch(d,{method:"POST",headers:{"Content-Type":"application/json"}}),i=await e.json();i.success?t.innerHTML='<div style="background: #d4edda; color: #155724; padding: 12px 16px; border-radius: 6px; border-left: 4px solid #28a745; font-size: 14px; line-height: 1.5;">✅ '+i.message+"</div>":t.innerHTML='<div style="background: #f8d7da; color: #721c24; padding: 12px 16px; border-radius: 6px; border-left: 4px solid #dc3545; font-size: 14px; line-height: 1.5;">❌ '+i.message+"</div>"}catch(e){t.innerHTML='<div style="background: #f8d7da; color: #721c24; padding: 12px 16px; border-radius: 6px; border-left: 4px solid #dc3545; font-size: 14px; line-height: 1.5;">❌ Erro ao testar: '+e.message+"</div>"}finally{e.disabled=!1,e.innerHTML='<i data-lucide="server"></i> Testar Conexão FTP',lucide.createIcons()}}))}));